# 料金プラン設計

## ユーザー獲得戦略：First Wow Experience

「登録前に驚きを与える」ためのステップ設計です。

### 完全無料（未ログイン）

- 自分のURLを入力するだけで、**「改善のヒント（見出し1つ分）」**を即座に表示
- 「続き（具体的なリライト原稿）を見たい場合はアカウント作成」へ誘導
- **目的**: まず驚きを与え、価値を実感してもらう

### 無料プラン（要アカウント作成）

- 累計 **7記事まで** スキャン無料（月間ではなく累計）
- 順位下落時の通知メールを1件まで登録可能
- **目的**: ここで「自分で直すより圧倒的に速い」ことを実感させる

### 7日間無料トライアル（フリーミアム）

- **期間**: 7日間
- **利用可能な機能**: スタータープランと同等（月20回までの分析）
- **クレジットカード登録**: 不要
- **目的**: 有料プランの機能を十分に体験してもらい、移行率を向上させる
- **想定移行率**: 15%（無料プランのみの場合4%）

## 課金要素の列挙とコスト見積もり

### 1. 記事分析回数（スキャン回数）

- **説明**: 記事のSEO分析を実行する回数（手動スキャン・自動分析含む）
- **1回あたりのコスト**: 約2.5円
  - 検索・URL抽出: 0円（ブラウジングツール、サーバーリソースのみ）
  - 競合記事読込: 0円（自前クローラー、サーバーリソースのみ）
  - 差分分析・生成: 約2.5円（Gemini 2.5 Flash、入力15,000トークン + 出力200-300トークン）
- **課金方式**: 月間回数制限

### 2. 監視記事数（通知設定数と同一）

- **説明**: 順位下落/上昇を監視する記事の数（1記事 = 1通知設定）
- **1記事あたりの月額コスト**: 約0.5円
  - **毎日の監視チェック**: 
    - GSC API呼び出し: 0円（無料、1日1回/記事）
    - サーバーリソース: 約0.05円/記事/月（固定費として計上）
  - **順位下落検知時の通知**: 
    - メール送信: 約0.3円/通（Resend、1,000通/月まで無料、以降$0.3/1,000通）
    - 順位下落検知率: 約10%（1記事あたり月1回程度の下落検知を想定）
    - 通知送信コスト: 0.3円 × 10% = 約0.03円/記事/月
  - **詳細分析の実行**:
    - 順位下落検知時に自動実行: 約2.5円/回（Gemini 2.5 Flash）
    - 詳細分析実行率: 約10%（1記事あたり月1回程度の分析を想定）
    - 詳細分析コスト: 2.5円 × 10% = 約0.25円/記事/月
  - **合計**: 約0.33円/記事/月（サーバーリソース + 通知 + 詳細分析）
- **課金方式**: 同時監視可能な記事数の上限（通知設定数 = 監視記事数）

### 3. 新規記事提案

- **説明**: キーワードギャップ分析に基づく新規記事タイトル・内容の提案
- **1提案セット（10提案）あたりのコスト**:
  - フェーズ1（LLMなし）: 0円（GSC APIのみ、無料）
  - フェーズ2（LLMあり）: 約1.5-3円（Gemini 2.0 Flash、約20,000-40,000トークン）
- **課金方式**: 月間提案生成回数制限

### 4. GSC連携サイト数

- **説明**: Google Search Consoleと連携できるサイト（プロパティ）の数
- **1サイトあたりの月額コスト**: 約0円
  - GSC API呼び出し: 0円（無料）
  - 管理コスト: 固定費として計上
- **課金方式**: 同時連携可能なサイト数の上限

### 5. 通知設定数（監視記事数と同一）

- **説明**: 順位下落/上昇時の通知先（メール/Slack/LINE）の数
- **注意**: 通知設定数 = 監視記事数（1記事につき1通知設定）
- **コスト**: 監視記事数のコストに含まれる（上記「2. 監視記事数」を参照）
- **課金方式**: 監視記事数と同一の上限

### 6. 分析履歴保存

- **説明**: 分析結果の保存期間・容量
- **1記事あたりの月額コスト**: 約0.01円
  - ストレージ: 約0.01円/記事/月（Supabase、1GBあたり$0.021/月）
  - データベース: 固定費として計上
- **課金方式**: 保存期間・容量制限

### 7. 同時実行数

- **説明**: 同時に実行できる分析の数
- **コスト**: サーバーリソース（固定費として計上）
- **課金方式**: 同時実行数の上限

### 8. API連携

- **説明**: 外部APIとの連携機能（ビジネスプランのみ）
- **コスト**: サーバーリソース（固定費として計上）
- **課金方式**: 有効/無効

### 9. 優先サポート

- **説明**: 優先的なカスタマーサポート
- **コスト**: 人件費（固定費として計上）
- **課金方式**: 有効/無効

## 類似サービスの価格設計調査

### SEOツール・コンテンツ最適化ツール

| サービス | 無料プラン | トライアル | 料金（月額） | 特徴 |
|---------|----------|----------|------------|------|
| **Ahrefs** | なし | なし | $99-999（約15,000-150,000円） | 高価格、専門家向け |
| **SEMrush** | なし | 7日間 | $119.95-449.95（約18,000-67,000円） | 高価格、専門家向け |
| **Surfer SEO** | なし | 7日間 | $89-239（約13,000-36,000円） | AI SEO最適化 |
| **Frase** | なし | 5日間 | $14.99-114.99（約2,200-17,000円） | AIコンテンツ最適化 |
| **Jasper** | なし | 7日間 | $39-125（約6,000-19,000円） | AIライティング |
| **Rytr** | あり（月5,000文字） | なし | $9-29（約1,400-4,400円） | AIライティング |

### 一般的なSaaSの価格設計傾向

- **低価格サービス（$10-30/月）**: 無料プラン + トライアルの組み合わせが多い
- **中価格サービス（$30-100/月）**: トライアルのみが多い
- **高価格サービス（$100以上/月）**: トライアルなしが多い

### 本サービスへの適用

- **価格帯**: 2,980円/月（約$20/月）→ 低価格サービスに該当
- **推奨**: 無料プラン（月3記事） + 7日間トライアルの組み合わせ

## 3段階のプラン案

### プラン比較表

| プラン名 | 月額料金 | 月間分析回数 | 監視記事数<br>（通知設定数） | 新規記事提案 | GSC連携 | 分析履歴 | 同時実行数 | API連携 | 優先サポート |
|---------|---------|------------|-------------------|------------|---------|---------|----------|---------|------------|
| **スターター** | 2,980円 | 20回 | 10記事 | 1回/月 | 1サイト | 30日 | 1 | × | × |
| **スタンダード** | 9,800円 | 100回 | 50記事 | 3回/月 | 3サイト | 90日 | 3 | × | × |
| **ビジネス** | 29,800円 | 800回 | 300記事 | 10回/月 | 無制限 | 無制限 | 10 | ○ | ○ |

### 各プランの詳細

#### スターター（2,980円/月）

- **対象**: 副業ブロガー、個人サイト運営者
- **機能**:
  - 月20回までの分析（週1-2回、月8-10記事の分析が可能）
  - 監視記事数: 10記事まで（通知設定数 = 監視記事数）
  - 新規記事提案: 1回/月（10提案生成）
  - 順位下落/上昇時の通知（メール/Slack/LINE）: 10記事まで（監視記事数と同一）
  - 手動スキャン機能
  - 分析履歴の保存・閲覧: 30日間
- **制限**: 同時実行数1、GSC連携1サイトまで
- **想定利用**: 週1-2回の分析で、月8-10記事を管理
- **原価計算**:
  - 手動分析: 20回 × 2.5円 = 50円
  - 監視記事（10記事）:
    - 毎日の監視チェック: 10記事 × 0.05円 = 0.5円
    - 順位下落検知時の通知: 10記事 × 0.03円 = 0.3円
    - 詳細分析の実行: 10記事 × 0.25円 = 2.5円
    - 小計: 約3.3円
  - 新規記事提案: 1回 × 1.5円 = 1.5円
  - **合計原価**: 約54.8円
- **利益率**: (2,980円 - 54.8円) / 2,980円 = **約98.2%**

#### スタンダード（9,800円/月）

- **対象**: 中規模サイト運営、複数記事を管理する担当者
- **機能**:
  - 月100回までの分析（週3-5回、月20-50記事の分析が可能）
  - 監視記事数: 50記事まで（通知設定数 = 監視記事数）
  - 新規記事提案: 3回/月（10提案生成/回）
  - 順位下落/上昇時の通知（複数通知先対応）: 50記事まで（監視記事数と同一）
  - 手動スキャン機能
  - 分析履歴の保存・閲覧: 90日間
- **制限**: 同時実行数3、GSC連携3サイトまで
- **想定利用**: 週3-5回の分析で、月20-50記事を管理
- **原価計算**:
  - 手動分析: 100回 × 2.5円 = 250円
  - 監視記事（50記事）:
    - 毎日の監視チェック: 50記事 × 0.05円 = 2.5円
    - 順位下落検知時の通知: 50記事 × 0.03円 = 1.5円
    - 詳細分析の実行: 50記事 × 0.25円 = 12.5円
    - 小計: 約16.5円
  - 新規記事提案: 3回 × 1.5円 = 4.5円
  - **合計原価**: 約271円
- **利益率**: (9,800円 - 271円) / 9,800円 = **約97.2%**

#### ビジネス（29,800円/月）

- **対象**: メディア運営会社、大規模サイト運営
- **機能**:
  - 月800回までの分析（同時実行数制限あり）
  - 監視記事数: 300記事まで（通知設定数 = 監視記事数）
  - 新規記事提案: 10回/月（10提案生成/回）
  - 順位下落/上昇時の通知（複数通知先対応）: 300記事まで（監視記事数と同一）
  - 手動スキャン機能
  - 分析履歴の保存・閲覧: 無制限
  - API連携（オプション）
  - 優先サポート
- **制限**: 同時実行数10、GSC連携無制限
- **想定利用**: 毎日、月100記事以上を管理
- **原価計算例**（月800回の手動分析 + 300記事監視の場合）:
  - 手動分析: 800回 × 2.5円 = 2,000円
  - 監視記事（300記事）:
    - 毎日の監視チェック: 300記事 × 0.05円 = 15円
    - 順位下落検知時の通知: 300記事 × 0.03円 = 9円
    - 詳細分析の実行: 300記事 × 0.25円 = 75円
    - 小計: 約99円
  - 新規記事提案: 10回 × 1.5円 = 15円
  - **合計原価**: 約2,114円
- **利益率**: (29,800円 - 2,114円) / 29,800円 = **約92.9%**

## ユーザー利用頻度の想定

- **副業ブロガー**: 月5-10記事を管理、週1-2回の分析が必要 → **スターター**
- **中規模サイト運営**: 月20-50記事を管理、週3-5回の分析が必要 → **スタンダード**
- **メディア運営会社**: 月100記事以上を管理、毎日複数記事の分析が必要 → **ビジネス**

## アップセル戦略

### WordPress連携（将来の機能・優先度低）

- **機能**: 「リライト案を出す」のは月額プラン、「そのままボタン一つでWPに反映する」のは追加オプション
- **料金**: +月額1,000円（各プランに追加可能）
- **目的**: 単価を上げ、ユーザーの手間をさらに削減
- **注意**: WordPressユーザーではない人もいるため、MVPでは後回し

## 利益率の計算（詳細）

### スターター（2,980円/月）

- **原価内訳**:
  - 手動分析: 20回 × 2.5円 = 50円
  - 監視記事（10記事）:
    - 毎日の監視チェック: 10記事 × 0.05円 = 0.5円
    - 順位下落検知時の通知: 10記事 × 0.03円 = 0.3円
    - 詳細分析の実行: 10記事 × 0.25円 = 2.5円
    - 小計: 約3.3円
  - 新規記事提案: 1回 × 1.5円 = 1.5円
  - **合計原価**: 約54.8円
- **利益**: 2,980円 - 54.8円 = 2,925.2円
- **利益率**: 2,925.2円 / 2,980円 = **約98.2%**
- **分析回数を2倍に増やしても、利益率は98%以上を維持**

### スタンダード（9,800円/月）

- **原価内訳**:
  - 手動分析: 100回 × 2.5円 = 250円
  - 監視記事（50記事）:
    - 毎日の監視チェック: 50記事 × 0.05円 = 2.5円
    - 順位下落検知時の通知: 50記事 × 0.03円 = 1.5円
    - 詳細分析の実行: 50記事 × 0.25円 = 12.5円
    - 小計: 約16.5円
  - 新規記事提案: 3回 × 1.5円 = 4.5円
  - **合計原価**: 約271円
- **利益**: 9,800円 - 271円 = 9,529円
- **利益率**: 9,529円 / 9,800円 = **約97.2%**
- **分析回数を2倍に増やしても、利益率は97%以上を維持**

### ビジネス（29,800円/月）

- **原価**: 変動（利用量に応じて）
  - **月500回の手動分析 + 100記事監視の場合**:
    - 手動分析: 500回 × 2.5円 = 1,250円
    - 監視記事（100記事）:
      - 毎日の監視チェック: 100記事 × 0.05円 = 5円
      - 順位下落検知時の通知: 100記事 × 0.03円 = 3円
      - 詳細分析の実行: 100記事 × 0.25円 = 25円
      - 小計: 約33円
    - 新規記事提案: 10回 × 1.5円 = 15円
    - **合計原価**: 約1,298円
  - **月1,000回の手動分析 + 200記事監視の場合**:
    - 手動分析: 1,000回 × 2.5円 = 2,500円
    - 監視記事（200記事）:
      - 毎日の監視チェック: 200記事 × 0.05円 = 10円
      - 順位下落検知時の通知: 200記事 × 0.03円 = 6円
      - 詳細分析の実行: 200記事 × 0.25円 = 50円
      - 小計: 約66円
    - 新規記事提案: 10回 × 1.5円 = 15円
    - **合計原価**: 約2,581円
- **利益率**: 高（利用量が多いほど原価率は上がるが、絶対額は大きい）

## UI/UX設計の重要性

### 課題

各プランを構成する変数が多いため、ユーザーにとってわかりやすく見せられるUI/UXが重要です。

**プランの構成要素**:
- 月額料金
- 月間分析回数
- 監視記事数（通知設定数）
- 新規記事提案
- GSC連携サイト数
- 分析履歴保存期間
- 同時実行数
- API連携
- 優先サポート

### UI/UX設計のベストプラクティス

#### 1. シンプルで直感的なプラン表示

**推奨アプローチ**:
- **3カラムレイアウト**: スターター、スタンダード、ビジネスを横並びで表示
- **主要機能を強調**: 各プランの核心的な価値（分析回数、監視記事数）を大きく表示
- **詳細は折りたたみ**: 細かい制限事項は「詳細を見る」で展開表示

**UI例**:
```
┌─────────────┬─────────────┬─────────────┐
│ スターター   │ スタンダード │  ビジネス   │
│  2,980円/月 │  9,800円/月 │ 29,800円/月 │
│             │             │             │
│ 20回/月     │ 100回/月    │ 無制限      │
│ 10記事監視  │ 50記事監視  │ 無制限      │
│             │             │             │
│ [詳細を見る]│ [詳細を見る]│ [詳細を見る]│
│             │             │             │
│ [今すぐ始める]│ [今すぐ始める]│ [今すぐ始める]│
└─────────────┴─────────────┴─────────────┘
```

#### 2. インタラクティブなプラン選択ツール

**推奨機能**:
- **使用量シミュレーター**: 
  - 「月に何記事を管理しますか？」→ 最適なプランを提案
  - 「週に何回分析しますか？」→ 必要な分析回数を計算
- **比較モード**: 2つのプランを並べて詳細比較
- **現在の使用状況表示**: ダッシュボードで現在の使用量と制限を可視化

**実装例**:
```typescript
// プラン選択ウィザード
const planRecommendation = (monthlyArticles: number, weeklyAnalyses: number) => {
  const monthlyAnalyses = weeklyAnalyses * 4;
  
  if (monthlyArticles <= 10 && monthlyAnalyses <= 20) {
    return 'starter';
  } else if (monthlyArticles <= 50 && monthlyAnalyses <= 100) {
    return 'standard';
  } else {
    return 'business';
  }
};
```

#### 3. 視覚的なハイライト

**推奨要素**:
- **人気プランのバッジ**: 「最も人気」などのバッジを表示
- **おすすめプランの強調**: ターゲットユーザーに合わせて推奨プランを強調
- **使用状況の可視化**: プログレスバーで使用量を表示

#### 4. ツールチップとヘルプ

**推奨要素**:
- **各機能の説明**: ホバーで詳細説明を表示
- **FAQセクション**: よくある質問への回答
- **使用例の提示**: 「10記事監視とは？」→ 具体例を表示

**実装例**:
```tsx
<Tooltip content="監視記事数は、順位下落/上昇を自動で監視する記事の数です。1記事につき1つの通知設定が可能です。">
  <QuestionMarkIcon />
</Tooltip>
```

#### 5. モバイルフレンドリーなデザイン

**推奨要素**:
- **レスポンシブデザイン**: スマートフォンでも見やすい
- **スワイプ可能な比較表**: モバイルでは横スクロールで比較
- **シンプルなCTA**: 「今すぐ始める」ボタンを目立たせる

#### 6. 段階的な情報提示

**推奨フロー**:
1. **ランディングページ**: 3つのプランをシンプルに表示
2. **詳細ページ**: 各プランの詳細機能を展開
3. **比較ページ**: 全機能を並べて比較
4. **ダッシュボード**: 現在の使用状況と制限を表示

### UI/UX実装の優先順位

1. **Phase 1（MVP）**: 
   - シンプルな3カラムレイアウト
   - 主要機能（分析回数、監視記事数）を強調
   - 基本的なツールチップ

2. **Phase 2（改善）**:
   - プラン選択ウィザード
   - 使用状況の可視化
   - 比較モード

3. **Phase 3（最適化）**:
   - A/Bテストによる最適化
   - パーソナライズされた推奨
   - アニメーションとインタラクション

## 決済システムの選択：Stripe連携

### Stripeを推奨する理由

#### 1. サブスクリプション管理の充実

**主な機能**:
- **自動継続請求**: 月次/年次の自動請求
- **プラン変更の比例配分**: 途中でのプラン変更時に自動計算
- **失敗決済の自動再試行**: クレジットカード期限切れ時の自動処理
- **請求書の自動発行**: 日本語対応の請求書を自動生成

#### 2. 日本市場への対応

**対応状況**:
- **日本の法律に準拠**: インボイス制度対応
- **日本語サポート**: 日本語でのカスタマーサポート
- **日本の決済手段**: 
  - クレジットカード（Visa, Mastercard, JCB, American Express）
  - デビットカード
  - コンビニ決済（Stripe Terminal経由）
  - 銀行振込（Stripe Connect経由）

#### 3. 開発者フレンドリー

**技術的な利点**:
- **充実したAPI**: RESTful APIとWebhook
- **豊富なSDK**: Node.js, TypeScript対応
- **詳細なドキュメント**: 日本語ドキュメントあり
- **テスト環境**: テストモードで安全に開発可能

#### 4. セキュリティとコンプライアンス

**セキュリティ機能**:
- **PCI DSS準拠**: カード情報を直接扱わない
- **不正検知**: 機械学習ベースの不正検知
- **3D Secure**: 2要素認証によるセキュリティ強化

#### 5. 料金体系

**Stripeの手数料**:
- **国内カード**: 3.6% + 40円/取引
- **海外カード**: 3.6% + 40円/取引（追加手数料なし）
- **サブスクリプション**: 上記と同じ手数料（毎月自動請求）

**本サービスでの想定手数料**:
- **スターター（2,980円）**: 約107円（3.6%）
- **スタンダード（9,800円）**: 約353円（3.6%）
- **ビジネス（29,800円）**: 約1,073円（3.6%）

### Stripe連携の実装

#### 必要な環境変数

```env
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

#### 実装フロー

1. **プラン作成（Stripe Dashboard）**:
   - スターター、スタンダード、ビジネスの3つのプランを作成
   - 価格IDを取得

2. **チェックアウトセッション作成**:
   ```typescript
   const session = await stripe.checkout.sessions.create({
     mode: 'subscription',
     line_items: [{
       price: 'price_starter_monthly', // Stripeの価格ID
       quantity: 1,
     }],
     success_url: `${baseUrl}/dashboard/billing?success=true`,
     cancel_url: `${baseUrl}/pricing?canceled=true`,
   });
   ```

3. **Webhook処理**:
   ```typescript
   // subscription.created: サブスクリプション開始
   // subscription.updated: プラン変更
   // subscription.deleted: サブスクリプション解約
   // invoice.payment_succeeded: 支払い成功
   // invoice.payment_failed: 支払い失敗
   ```

4. **ユーザープラン管理**:
   - StripeのCustomer IDをDBに保存
   - Subscription IDをDBに保存
   - プラン変更時にDBを更新

#### 実装ファイル構成

```
app/
  api/
    billing/
      checkout/route.ts          # チェックアウトセッション作成
      webhook/route.ts            # Stripe Webhook処理
      subscription/route.ts       # サブスクリプション管理
  [locale]/
    pricing/
      page.tsx                    # 価格ページ
    dashboard/
      billing/
        page.tsx                  # 課金管理ページ
lib/
  stripe/
    client.ts                     # Stripeクライアント
    webhooks.ts                   # Webhook処理
    subscriptions.ts              # サブスクリプション管理
```

### 代替案との比較

| 決済サービス | 手数料 | 日本対応 | サブスクリプション | 開発容易性 | 推奨度 |
|------------|--------|---------|------------------|----------|--------|
| **Stripe** | 3.6% + 40円 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **PayPal** | 3.6% + 40円 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **Paddle** | 5% + 50円 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **Square** | 3.6% + 40円 | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |

**結論**: Stripeが最も推奨される（日本対応、開発容易性、機能の充実度）

### 実装の優先順位

1. **Phase 1（MVP）**:
   - Stripe Checkoutの実装
   - 基本的なサブスクリプション管理
   - Webhook処理（subscription.created, subscription.updated）

2. **Phase 2（改善）**:
   - プラン変更機能
   - 請求書の表示
   - 支払い失敗時の処理

3. **Phase 3（最適化）**:
   - カスタマーポータル（Stripe Customer Portal）
   - 年額プランの追加
   - プロモーションコード

## 監視記事数と通知設定の関係

### 設計方針

- **通知設定数 = 監視記事数**（1記事につき1通知設定）
- 各監視記事に対して、順位下落/上昇時の通知を1件まで設定可能
- 通知先はメール/Slack/LINEから選択可能（複数チャネル対応）

### 毎日の監視チェックのコスト

- **実行頻度**: 1日1回（Cronジョブ）
- **処理内容**:
  1. GSC APIで各監視記事の順位データを取得（無料）
  2. 順位下落/上昇を検知
  3. 検知時: 通知送信 + 詳細分析の実行
- **コスト内訳**（1記事あたり/月）:
  - 毎日の監視チェック: 約0.05円（サーバーリソース）
  - 順位下落検知時の通知: 約0.03円（10%の記事が月1回下落検知を想定）
  - 詳細分析の実行: 約0.25円（10%の記事が月1回分析を想定）
  - **合計**: 約0.33円/記事/月

### 順位下落検知率の想定

- **検知率**: 約10%（1記事あたり月1回程度の下落検知を想定）
- **根拠**: 
  - 順位は頻繁に変動するが、通知対象となる「有意な下落」は限定的
  - 通知頻度制限（過去7日間で1回まで）により、過剰な通知を防止
  - 実際の検知率はサイトの特性や記事の状態により変動

