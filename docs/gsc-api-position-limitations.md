# GSC APIの順位データ取得の制限事項

## 重要な制限事項

### 1. データが取得されない場合

GSC APIは、**検索結果に表示されたページのみ**を返します。以下の場合、データが取得されません：

- **順位が100位以下**: GSC APIは通常、100位以内のページのみを返します
- **検索結果に表示されない**: その日付に検索結果に表示されなかった場合、データが存在しません
- **インプレッション数が0**: 検索結果に表示されても、インプレッションが0の場合はデータが取得されない場合があります

### 2. データ欠落の意味

時系列データで特定の日付にデータがない場合、以下の可能性があります：

1. **順位が下がった（転落）**: 100位以下に転落し、データが取得されなくなった
2. **検索結果に表示されなくなった**: アルゴリズムの変更やコンテンツの評価低下により、検索結果に表示されなくなった
3. **検索ボリュームが減少**: そのキーワードの検索ボリュームが減少し、データが取得されなくなった

### 3. 現在の実装の問題

現在の実装では、データが取得されない期間を適切に処理していません：

- 過去の1位のデータのみが表示される
- データが取得されない期間が「転落」であることが明確でない
- 改善案がミスリーディングになる可能性がある

### 4. 改善案

1. **データ欠落の明確化**: データが取得されない期間を「転落」として明確に示す
2. **警告表示**: 最後のデータ取得日から一定期間データがない場合、警告を表示
3. **現在の順位確認**: 現在の順位を確認し、転落していることを明確に示す
4. **改善案の調整**: データが古い場合や転落している場合、改善案を調整する

